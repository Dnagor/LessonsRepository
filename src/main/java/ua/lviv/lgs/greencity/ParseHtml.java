package ua.lviv.lgs.greencity;

import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class ParseHtml {
    public static void main(String[] args) {
        String email = "<!DOCTYPEhtml><htmlxmlns=\"http://www.w3.org/1999/xhtml\"><head><metacharset=\"utf-8\"><metahttp-equiv=\"x-ua-compatible\"content=\"ie=edge\"><title>PasswordReset</title><metaname=\"viewport\"content=\"width=device-width,initial-scale=1\"><styletype=\"text/css\">/***Googlewebfonts.Recommendedtoincludethe.woffversionforcross-clientcompatibility.*/@mediascreen{@font-face{font-family:'SourceSansPro';font-style:normal;font-weight:400;src:local('SourceSansProRegular'),local('SourceSansPro-Regular'),url(https://fonts.gstatic.com/s/sourcesanspro/v10/ODelI1aHBYDBqgeIAH2zlBM0YzuT7MdOe03otPbuUS0.woff)format('woff');}@font-face{font-family:'SourceSansPro';font-style:normal;font-weight:700;src:local('SourceSansProBold'),local('SourceSansPro-Bold'),url(https://fonts.gstatic.com/s/sourcesanspro/v10/toadOcfmlt9b38dHJxOBGFkQc6VGVFSmCnC_l7QZG60.woff)format('woff');}}/***Avoidbrowserlevelfontresizing.*1.WindowsMobile*2.iOS/OSX*/body,table,td,a{-ms-text-size-adjust:100%;/*1*/-webkit-text-size-adjust:100%;/*2*/}/***RemoveextraspaceaddedtotablesandcellsinOutlook.*/table,td{mso-table-rspace:0pt;mso-table-lspace:0pt;}/***BetterfluidimagesinInternetExplorer.*/img{-ms-interpolation-mode:bicubic;}/***RemovebluelinksforiOSdevices.*/a[x-apple-data-detectors]{font-family:inherit!important;font-size:inherit!important;font-weight:inherit!important;line-height:inherit!important;color:inherit!important;text-decoration:none!important;}/***FixcenteringissuesinAndroid4.4.*/div[style*=\"margin:16px0;\"]{margin:0!important;}body{width:100%!important;height:100%!important;padding:0!important;margin:0!important;}/***Collapsetableborderstoavoidspacebetweencells.*/table{border-collapse:collapse!important;}a{color:#13aa57;}img{height:auto;line-height:100%;text-decoration:none;border:0;outline:none;}</style></head><bodystyle=\"background-color:#e9ecef;\"><!--startbody--><tableborder=\"0\"cellpadding=\"0\"cellspacing=\"0\"width=\"100%\"><!--startlogo--><tr><tdalign=\"center\"bgcolor=\"#e9ecef\"><!--[if(gtemso9)|(IE)]><tablealign=\"center\"border=\"0\"cellpadding=\"0\"cellspacing=\"0\"width=\"600\"><tr><tdalign=\"center\"valign=\"top\"width=\"600\"><![endif]--><tableborder=\"0\"cellpadding=\"0\"cellspacing=\"0\"width=\"100%\"style=\"max-width:600px;\"><tr><tdalign=\"center\"valign=\"top\"bgcolor=\"#13aa57\"style=\"margin-top:20px\"><ahref=\"https://ita-social-projects.github.io/GreenCityClient/\"style=\"display:inline-block;padding:20px50px;font-weight:700;font-family:'SourceSansPro',Helvetica,Arial,sans-serif;font-size:32px;color:#ffffff;text-decoration:none;border-radius:6px;\">GreenCity</a></td></tr></table><!--[if(gtemso9)|(IE)]></td></tr></table><![endif]--></td></tr><!--endlogo--><!--starthero--><tr><tdalign=\"center\"bgcolor=\"#e9ecef\"><!--[if(gtemso9)|(IE)]><tablealign=\"center\"border=\"0\"cellpadding=\"0\"cellspacing=\"0\"width=\"600\"><tr><tdalign=\"center\"valign=\"top\"width=\"600\"><![endif]--><tableborder=\"0\"cellpadding=\"0\"cellspacing=\"0\"width=\"100%\"style=\"max-width:600px;\"><tr><tdalign=\"left\"bgcolor=\"#ffffff\"style=\"padding:36px24px0;font-family:'SourceSansPro',Helvetica,Arial,sans-serif;border-top:3pxsolid#d4dadf;\"><h2style=\"margin:0;font-size:24px;font-weight:700;letter-spacing:-1px;line-height:48px;\">Verifyyouremailaddresstocompleteregistration</h2></td></tr></table><!--[if(gtemso9)|(IE)]></td></tr></table><![endif]--></td></tr><!--endhero--><!--startcopyblock--><tr><tdalign=\"center\"bgcolor=\"#e9ecef\"><!--[if(gtemso9)|(IE)]><tablealign=\"center\"border=\"0\"cellpadding=\"0\"cellspacing=\"0\"width=\"600\"><tr><tdalign=\"center\"valign=\"top\"width=\"600\"><![endif]--><tableborder=\"0\"cellpadding=\"0\"cellspacing=\"0\"width=\"100%\"style=\"max-width:600px;\"><!--startcopy--><tr><tdalign=\"left\"bgcolor=\"#ffffff\"style=\"padding:24px;font-family:'SourceSansPro',Helvetica,Arial,sans-serif;font-size:16px;line-height:24px;\"><p>Higreencitypavel,</p><divstyle=\"margin:0;\">ThanksforyourinterestinjoiningGreenCity!</div><divstyle=\"margin:0;\">Tocompleteyourregistration,weneedyoutoverifyyouremailaddress.</div></td></tr><!--endcopy--><!--startbutton--><tr><tdalign=\"left\"bgcolor=\"#ffffff\"><tableborder=\"0\"cellpadding=\"0\"cellspacing=\"0\"width=\"100%\"><tr><tdalign=\"center\"bgcolor=\"#ffffff\"style=\"padding:12px;\"><tableborder=\"0\"cellpadding=\"0\"cellspacing=\"0\"><tr><tdalign=\"center\"bgcolor=\"#13aa57\"style=\"border-radius:6px;\">" +
                "<ahref=\"https://ita-social-projects.github.io/GreenCityClient/#/?token=0e24c56f-f226-41c6-b368-a41bafbf1656&amp;user_id=9402\"target=\"_blank\"style=\"display:inline-block;padding:16px36px;font-family:'SourceSansPro',Helvetica,Arial,sans-serif;font-size:16px;color:#ffffff;text-decoration:none;border-radius:6px;\">VerifyEmail</a></td></tr></table></td></tr></table></td></tr><!--endbutton--><!--startcopy--><tr><tdalign=\"left\"bgcolor=\"#ffffff\"style=\"padding:24px;font-family:'SourceSansPro',Helvetica,Arial,sans-serif;font-size:16px;line-height:24px;\"><pstyle=\"margin:0;\">Ifthatdoesn&#39;twork,copyandpastethefollowinglinkinyourbrowser:</p>" +
                "<pstyle=\"margin:0;\">https://ita-social-projects.github.io/GreenCityClient/#/?token=0e24c56f-f226-41c6-b368-a41bafbf1656&amp;user_id=9402</p></td></tr><!--endcopy--></table><!--[if(gtemso9)|(IE)]></td></tr></table><![endif]--></td></tr><!--endcopyblock--><!--startfooter--><tr><tdalign=\"center\"bgcolor=\"#e9ecef\"style=\"padding:24px;\"><!--[if(gtemso9)|(IE)]><tablealign=\"center\"border=\"0\"cellpadding=\"0\"cellspacing=\"0\"width=\"600\"><tr><tdalign=\"center\"valign=\"top\"width=\"600\"><![endif]--><tableborder=\"0\"cellpadding=\"0\"cellspacing=\"0\"width=\"100%\"style=\"max-width:600px;\"><!--startpermission--><tr><tdalign=\"center\"bgcolor=\"#e9ecef\"style=\"padding:12px24px;font-family:'SourceSansPro',Helvetica,Arial,sans-serif;font-size:14px;line-height:20px;color:#666;\"><pstyle=\"margin:0;\">Youreceivedthisemailbecausewereceivedarequestforrestoringyourpassword.Ifyoudidn&#39;trequestthisactionyoucansafelydeletethisemail</p></td></tr><!--endpermission--></table><!--[if(gtemso9)|(IE)]></td></tr></table><![endif]--></td></tr><!--endfooter--></table><!--endbody--></body></html>";
        Pattern pattern = Pattern.compile(">https://ita-social-projects[^\"<]+");
        final Matcher m = pattern.matcher(email);
        m.find();
        String link = email.substring( m.start(), m.end() )
                .replace(">","");


        System.out.println(link);
    }
}
